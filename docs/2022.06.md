# 2022.06

## 回顾

上海疫情从三月份开始，到六月份解封，短短三个月的时间，对我的影响不亚于前30年，一系列离奇的事件，使我对于这个世界有了重新的认识。

还是简单回忆一下这段时间发生的事情吧。

三月份的时候，工作群里有人转发了一份聊天记录，记录的内容是一个据称自己是新冠感染者的见闻。当时印象比较深刻的是那个人说自己确诊新冠三四天了，但是一直没人管，也不管感染者的健康情况，也没有实施更加细微的隔离措置，就是放养，直到几天之后才被接走隔离。

当时我的第一反应是假消息，肯定是有人捏造事实，因为只是一份聊天记录而已，因为以我当时对于政府防疫政策的认知，不可能发生这么严重的事故，因为我经常往返于上海和无锡，无锡的管控是非常严格的，比如你从上海过去，第二天就有人给你打电话核实，我当时天真的以为，小小无锡都这么严格，世界大都市上海不可能有漏网之鱼的，因为这可是全国第一个把中风险地区划为一个奶茶店的大上海啊。但是没过两天，公司突然宣布居家办公了。以这公司的性格，能突然宣布居家办公，我觉得事态应该很不一般，大型企业的消息还是要比平民老百姓来得更快，但是让我万万没想到的是疫情会变得如此严重。

居家办公的初期其实还是比较爽的，干完活之后的时间就是自己的了，前两周社区还没封，还能正常去超市、餐厅，本以为在家待两周就能正常回去上班了，可是接下来随着感染人数指数级的增加，社区也跟着封了。我还是有一些先见之明的，封的初期备了好多泡面，每天两桶泡面，前期就这么过来了。

但是泡面是有限的，封期是无限的，眼见着泡面一袋一袋的没了，内心也焦虑起来，毕竟哪顿不吃也饿得慌啊。此时我开始想方设法地在网上买东西，先是在京东上买，主要是泡面跟水，但是买了一周之后还没有发货，我就觉得这可能不行了，然后就尝试在各种APP：美团、饿了么、每日优鲜、京东到家上抢，很遗憾，也抢不到。抢不到不说，此时一些生活必须品的价格以不要脸的倍数上涨。举个例子，当时的猪肉，市场价不到10块，美团里面的一些商家打包卖，5斤200多块，青菜更离谱，基本就是10斤200这个样子。但是也得买啊，我还好，一个人吃饱，全家不愁了，那些上有老、下有小的家庭，冤枉钱应该是少花不了。幸亏当时我对象帮我早起在美团买菜上抢了泡面、水还有一些其他生活必需品，不然我可能真的会经历在21世纪挨饿了。

于此同时，全国各个城市相继援助上海。社区也发了一些东西，我的两户室友人都比较好，他们做饭的时候顺便帮我做一份，缓解了我挨饿的焦虑。随着封期不断拉长，矛盾也越来越深，每次核算检测，小区里都会有人吵架。然后就是网络上各种各样的爆料，比如有些小区只给上海当地人发物资，不给外地人发，有的居委会不及时发放物资，让菜烂掉，有些人把援助的物资高价出售，等等。随之而来的就是各种辟谣，疫情期间听到最多的就是辟谣了，有些网友调侃道：“本来是不相信的，但是一辟谣，看来就是真的了”。

还记得那个让人印象深刻的新闻发布会么？“上海不能封，因为上海不只是上海市民自己的上海，是全国的上海，是全世界的上海”。在全国防疫政策这么严格的情况下，上海竟然出了这么大一个漏洞，在全国防疫经验这么丰富的情况下，上海竟然封了将近3个月，在整个上海爆红，感染了上万人的情况下，上海竟然没有一个高风险地区，健康码一直是绿码。在一个老太太三天只吃了一个鸡蛋，无奈求助的情况下（后来被辟谣了，可能是假的吧），有些人竟然在短短20天赚了近千万（道听途说，可能也是假的）。看着疫情后期虹桥站里那些归家的人，心里万分感慨。这世界那么多人，真的是有人欢喜有人忧。

别看封的时候拖拖拉拉，但封解可是雷厉风行。5月30号晚上社区还给每个人发了10支抗原检测试剂，当时我算计着，以每天一支的情况下，可能还需要10天吧，但是6月1日，就宣布解封了。突如其来的消息，就像看见武林高手来了一套闪电五连鞭一样，让人目瞪口呆。有网友贴切的比喻道：“直接把我从ICU拉到了KTV”。当迈出小区，看到一如往常车来车往的街道和熙熙攘攘的行人，心中说不出来的滋味。我自由了？真的不会反弹么？两个问题在心中来回碰撞。

上海在全国大舞台上唱了一出大戏，全国各地都看在眼里，只不过别人看到的跟上海人经历的可能有那么一点不太一样而已。记得当时最经典的场面是，一个人想出小区，因为他在抖音上看到说是解封了，结果社区告诉他，那你从抖音出去吧。

当有些人带头推崇欺骗与掩饰的时候，我们该何去何从？明天在哪里？还会有希望么？这一切到底是为什么啊？

愿天下没有疾苦。

## v-model & .sync

v-model 与 .sync 都是语法糖，可以实现数据双向绑定。

v-model的本质是 `value` props 与 `input` 事件的语法糖。

```vue
<input v-model="val" type="text">
// 等价于
<input :value="val"  @input="val=$event.target.value" />
```

在vue2中，每个组件只能有一个v-model，vue3支持了具名v-model，可以有多个。

.sync修饰符

```javascript
// 正常父传子： 
<son :a="num" :b="num2"></son>

// 加上sync之后父传子： 
<son :a.sync="num" .b.sync="num2"></son> 

// 它等价于
<son
  :a="num" @update:a="val=>num=val"
  :b="num2" @update:b="val=>num2=val"></son> 
```

## v-if & v-for

vue2中，v-if 和 v-for 不建议同时使用，因为 v-for的优先级比较高，先执行，vue3可以同时使用

## 贪心算法

贪心算法（greedy algorithm，又称贪婪算法）是指，在对问题求解时，总是做出在当前看来是最好的选择。也就是说，不从整体最优上加以考虑，算法得到的是在某种意义上的局部最优解。

贪心的本质是选择每一阶段的局部最优，从而达到全局最优。

贪心算法缺点：

贪心算法并不保证会得到最优解，只是在某些问题上会的到最优解。

贪心算法可以解决的经典问题：部分背包问题。

经典例题：

* [数转罗马数字](https://leetcode.cn/problems/integer-to-roman/)

## vue 没有 完全准守MVVM

主要是因为vue中有`$refs`这个属性，这个属性可以绕过`ViewModel`在model层直接操作dom。

## 关于vue中的data是一个函数

这样的目的主要还是方便在组件复用的时候返回一个全新的data，也就是使组件有一个私有的数据空间。如果data是一个对象的话，多个组件就会共用这个对象，这肯定是不符合预期的。

## Vue的父子组件生命周期钩子函数执行顺序

其实单论生命周期来说，了解单个组件的生命周期是不够的，因为现实中绝大多数都会是多组件共存，弄清楚多组件生命周期顺序是必要的。

* 加载渲染过程

> 父beforeCreate -> 父created -> 父beforeMount -> 子beforeCreate -> 子created -> 子beforeMount -> 子mounted -> 父mounted

* 子组件更新过程

> 父beforeUpdate -> 子beforeUpdate -> 子updated -> 父updated

* 父组件更新过程

父beforeUpdate -> 父updated

*销毁过程

> 父beforeDestroy -> 子beforeDestroy -> 子destroyed -> 父destroyed

## fix `Failed to connect to github.com port 443: Operation timed out`

```bash
git config --global --unset http.proxy
git config --global --unset https.proxy
```

## DNS

[参考](https://juejin.cn/post/6990344840181940261)

DNS 即域名系统，全称是 Domain Name System。当我们在浏览器输入一个 URL 地址时，浏览器要向这个 URL 的主机名对应的服务器发送请求，就得知道服务器的 IP，对于浏览器来说，DNS 的作用就是将主机名转换成 IP 地址。

### DNS服务器类型

* 根 DNS 服务器 (.)
* 顶级域 DNS 服务器 (.com .cn .rog .edu)
* 权威 DNS 服务器 (yahu.com google.com)
* 本地域名服务器

### 查询过程

本地缓存 -> 本地 -> 根 -> 顶级 -> 权威

查询的过程中伴随着递归与迭代

## 回溯法

回溯法又叫做回溯搜索法，是一种暴力穷举的搜索算法，虽说算法效率不高，但可以解决一些通过迭代难以解决的问题。回溯是递归的副产品，只要有递归就会有回溯。

回溯法可以解决组合、切割、子集、排列、棋盘问题。

所有回溯法解决的问题都可以抽象成树形结构，我们需要做的就是遍历这棵树然后做一些处理。

[回溯法原理书](./data/%E5%9B%9E%E6%BA%AF%E6%B3%95-%E6%A0%91.png)

回溯三部曲：

* 回溯函数模板返回值以及参数
* 回溯函数终止条件
* 回溯搜索的遍历过程

回溯法模板:

```javascript
void backtracking(参数) {
    if (终止条件) {
        存放结果;
        return;
    }

    for (选择：本层集合中元素（树中节点孩子的数量就是集合的大小）) {
        处理节点;
        backtracking(路径，选择列表); // 递归
        回溯，撤销处理结果  
```

其实回溯最难理解的地方是递归函数后面的回溯操作，这个地方非常难以理解，到目前为止还不能在大脑中构建出后面这段代码的执行画面，先记住吧。

## 浏览器架构

[参考](https://zhuanlan.zhihu.com/p/102149546) 这篇文章写得非常好

浏览器采用多进程架构，好处是万一有页面挂了，不会影响到其他页面。不好的地方是内存消耗比较大。

浏览器组要包括以下进程：

* 浏览器进程（browser process）
  主要负责导对航栏、书签栏、前进、后退按钮的控制，还会控制网络请求及文件读写
* 渲染进程（renderer process）
  负责一个tab内网页展示相关的所有操作
* 插件进程（plugin process）
  复杂插件的控制
* GPU进程（GPU process）
  做GPU加速处理，处理不同tab的渲染请求

## null && undefined

这两个值在平时用的最多的地方就是用来做判断，也就是隐式转换为false，在这样的场景下，这俩值是一样的。

但其他场景下，还是有一些区别的：

在装换为Number时，null -> 0, undefined -> NaN

在语义上：

* null 表示一个值被定义了，定义为“空值”；
* undefined 表示根本不存在定义。

## 作用域与作用域链

作用域：规定了如何查找变量，也就是确定当前执行代码对变量的访问权限。换句话说，作用域决定了代码区块中变量和其他资源的可见性。（全局作用域、函数作用域、块级作用域）

作用域链：从当前作用域开始一层层往上找某个变量，如果找到全局作用域还没找到，就放弃寻找 。这种层级关系就是作用域链。（

## 闭包

[参考](https://github.com/mqyqingfeng/Blog/issues/9)

### MDN 对闭包的定义为

闭包是指那些能够访问自由变量的函数。

那什么是自由变量呢？

自由变量是指在函数中使用的，但既不是函数参数也不是函数的局部变量的变量。

### ECMAScript中，闭包指的是

从理论角度：所有的函数。因为它们都在创建的时候就将上层上下文的数据保存起来了。哪怕是简单的全局变量也是如此，因为函数中访问全局变量就相当于是在访问自由变量，这个时候使用最外层的作用域。

从实践角度：以下函数才算是闭包：

即使创建它的上下文已经销毁，它仍然存在（比如，内部函数从父函数中返回）
在代码中引用了自由变量
